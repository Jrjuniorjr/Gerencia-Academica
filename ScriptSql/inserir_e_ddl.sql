-- MySQL Script generated by MySQL Workbench
-- Sat Oct  6 13:37:43 2018
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='TRADITIONAL,ALLOW_INVALID_DATES';

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema mydb
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `mydb` DEFAULT CHARACTER SET utf8 ;
USE `mydb` ;

-- -----------------------------------------------------
-- Table `mydb`.`Aluno`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Aluno` (
  `cpf` VARCHAR(11) NOT NULL,
  `Nome` VARCHAR(100) NULL,
  `Sobrenome` VARCHAR(100) NULL,
  `Tipo` ENUM('Vestibular', 'Transferencia') NULL,
  `Data_nascimento` VARCHAR(10) NULL,
  PRIMARY KEY (`cpf`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Departamento`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Departamento` (
  `codigo` VARCHAR(10) NOT NULL,
  `nome` VARCHAR(45) NULL,
  `bloco` CHAR NULL,
  PRIMARY KEY (`codigo`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Curso`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Curso` (
  `codigo` VARCHAR(10) NOT NULL,
  `num_credito_conclusao` INT NULL,
  `codigo_departamento` VARCHAR(10) NOT NULL,
  PRIMARY KEY (`codigo`),
    FOREIGN KEY (`codigo_departamento`)
    REFERENCES `mydb`.`Departamento` (`codigo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Matricula`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Matricula` (
  `num_matricula` INT NOT NULL,
  `codigo_curso` VARCHAR(10) NOT NULL,
  `tipo` ENUM('Ativo', 'Inativo') NULL,
  `Data_inicio` VARCHAR(10) NULL,
  `cpf` varchar(11) NOT NULL,
  PRIMARY KEY (`num_matricula`),
    FOREIGN KEY (`codigo_curso`)
    REFERENCES `mydb`.`Curso` (`codigo`),
    FOREIGN KEY (`cpf`)
    REFERENCES `mydb`.`Aluno` (`cpf`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Aluno_Endereco`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Aluno_Endereco` (
  `cpf` VARCHAR(11) NOT NULL,
  `rua` VARCHAR(45) NULL,
  `cep` VARCHAR(45) NULL,
  `bairro` VARCHAR(45) NULL,
    FOREIGN KEY (`cpf`)
    REFERENCES `mydb`.`Aluno` (`cpf`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Professor`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Professor` (
  `matricula_prof` INT NOT NULL,
  `CFE` VARCHAR(45) NOT NULL,
  `Nome` VARCHAR(45) NULL,
  `Sobrenome` VARCHAR(45) NULL,
  `codigo_departamento` VARCHAR(10) NOT NULL,
  PRIMARY KEY (`matricula_prof`),
    FOREIGN KEY (`codigo_departamento`)
    REFERENCES `mydb`.`Departamento` (`codigo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Disciplina`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Disciplina` (
  `codigo` VARCHAR(10) NOT NULL,
  `num_total_horas` INT NULL,
  `codigo_departamento` VARCHAR(10) NOT NULL,
  `carga_horaria` INT NULL,
  `credito` INT NULL,
  `nome_disciplina` VARCHAR(45) NULL,
  `num_matricula` INT NOT NULL,
  PRIMARY KEY (`codigo`),
    FOREIGN KEY (`codigo_departamento`)
    REFERENCES `mydb`.`Departamento` (`codigo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
    FOREIGN KEY (`num_matricula`)
    REFERENCES `mydb`.`Professor` (`matricula_prof`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Historico`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Historico` (
  `num_matricula` INT NOT NULL,
  `codigo_disciplina` VARCHAR(10) NOT NULL,
  `nota_final` FLOAT NULL,
  `data_cursada` VARCHAR(10) NULL,
    FOREIGN KEY (`codigo_disciplina`)
    REFERENCES `mydb`.`Disciplina` (`codigo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
    FOREIGN KEY (`num_matricula`)
    REFERENCES `mydb`.`Matricula` (`num_matricula`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Composto_Obrigatoria`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Composto_Obrigatoria` (
  `codigo_disciplina` VARCHAR(10) NOT NULL,
  `codigo_curso` VARCHAR(10) NOT NULL,
    FOREIGN KEY (`codigo_disciplina`)
    REFERENCES `mydb`.`Disciplina` (`codigo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
    FOREIGN KEY (`codigo_curso`)
    REFERENCES `mydb`.`Curso` (`codigo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `mydb`.`Optativa`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `mydb`.`Optativa` (
  `codigo_disciplina` VARCHAR(10) NOT NULL,
  `codigo_curso` VARCHAR(10) NOT NULL,
    FOREIGN KEY (`codigo_disciplina`)
    REFERENCES `mydb`.`Disciplina` (`codigo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
    FOREIGN KEY (`codigo_curso`)
    REFERENCES `mydb`.`Curso` (`codigo`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `mydb`.`Aluno`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Aluno` (`cpf`, `Nome`, `Sobrenome`, `Tipo`, `Data_nascimento`) VALUES ('123456789', 'Jennifer', 'Calazans', 'Vestibular', '05/10/1997');
INSERT INTO `mydb`.`Aluno` (`cpf`, `Nome`, `Sobrenome`, `Tipo`, `Data_nascimento`) VALUES ('123456788', 'Alisson', 'Barboza', 'Transferencia', '02/08/1926');
INSERT INTO `mydb`.`Aluno` (`cpf`, `Nome`, `Sobrenome`, `Tipo`, `Data_nascimento`) VALUES ('123456888', 'Momedes', 'Junior', 'Vestibular', '03/06/1998');
INSERT INTO `mydb`.`Aluno` (`cpf`, `Nome`, `Sobrenome`, `Tipo`, `Data_nascimento`) VALUES ('123458888', 'Lucas', 'Leal', 'Vestibular', '09/07/1995');
INSERT INTO `mydb`.`Aluno` (`cpf`, `Nome`, `Sobrenome`, `Tipo`, `Data_nascimento`) VALUES ('123488888', 'Creuza', 'Silva', 'Transferencia', '01/01/1999');
INSERT INTO `mydb`.`Aluno` (`cpf`, `Nome`, `Sobrenome`, `Tipo`, `Data_nascimento`) VALUES ('123888888', 'Veva', 'Aragao', 'Transferencia', '01/03/1989');

COMMIT;


-- -----------------------------------------------------
-- Data for table `mydb`.`Departamento`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Departamento` (`codigo`, `nome`, `bloco`) VALUES ('CCT', 'Centro de Ciências Tecnológicas', 'D');
INSERT INTO `mydb`.`Departamento` (`codigo`, `nome`, `bloco`) VALUES ('CCH', 'Centro de Ciências Humanas', 'J');

COMMIT;


-- -----------------------------------------------------
-- Data for table `mydb`.`Curso`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Curso` (`codigo`, `num_credito_conclusao`, `codigo_departamento`) VALUES ('C3', 300, 'CCT');
INSERT INTO `mydb`.`Curso` (`codigo`, `num_credito_conclusao`, `codigo_departamento`) VALUES ('E3', 360, 'CCT');
INSERT INTO `mydb`.`Curso` (`codigo`, `num_credito_conclusao`, `codigo_departamento`) VALUES ('M1', 500, 'CCH');

COMMIT;


-- -----------------------------------------------------
-- Data for table `mydb`.`Matricula`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Matricula` (`num_matricula`, `codigo_curso`, `tipo`, `Data_inicio`, `cpf`) VALUES (123456789, 'C3', 'Ativo', '02/02/2016', 123456789);
INSERT INTO `mydb`.`Matricula` (`num_matricula`, `codigo_curso`, `tipo`, `Data_inicio`, `cpf`) VALUES (123456788, 'C3', 'Ativo', '02/02/2016', 123456788);
INSERT INTO `mydb`.`Matricula` (`num_matricula`, `codigo_curso`, `tipo`, `Data_inicio`, `cpf`) VALUES (123456888, 'C3', 'Ativo', '08/02/2016', 123456888);
INSERT INTO `mydb`.`Matricula` (`num_matricula`, `codigo_curso`, `tipo`, `Data_inicio`, `cpf`) VALUES (123458888, 'C3', 'Ativo', '13/08/2016', 123458888);
INSERT INTO `mydb`.`Matricula` (`num_matricula`, `codigo_curso`, `tipo`, `Data_inicio`, `cpf`) VALUES (123488888, 'M1', 'Ativo', '08/08/2017', 123488888);
INSERT INTO `mydb`.`Matricula` (`num_matricula`, `codigo_curso`, `tipo`, `Data_inicio`, `cpf`) VALUES (123888888, 'E3', 'Inativo', '05/02/2013', 12388888);

COMMIT;

-- -----------------------------------------------------
-- Data for table `mydb`.`Aluno_Endereco`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Aluno_Endereco` (`cpf`, `rua`, `cep`, `bairro`) VALUES ('123456789', 'Av boa viagem', '5100000', 'Madalena');
INSERT INTO `mydb`.`Aluno_Endereco` (`cpf`, `rua`, `cep`, `bairro`) VALUES ('123456788', 'Antenor Navarro', '4100000', 'Brega');
INSERT INTO `mydb`.`Aluno_Endereco` (`cpf`, `rua`, `cep`, `bairro`) VALUES ('123456888', 'Espinheiro', '5101111', 'Assunção');
INSERT INTO `mydb`.`Aluno_Endereco` (`cpf`, `rua`, `cep`, `bairro`) VALUES ('123458888', 'Casa Amarela', '5111111', 'Frevo');
INSERT INTO `mydb`.`Aluno_Endereco` (`cpf`, `rua`, `cep`, `bairro`) VALUES ('123488888', 'Alelo', '3111111', 'Ipiraçuru');
INSERT INTO `mydb`.`Aluno_Endereco` (`cpf`, `rua`, `cep`, `bairro`) VALUES ('123888888', 'Bigorna', '2121212', 'Arapiraca');

COMMIT;

-- -----------------------------------------------------
-- Data for table `mydb`.`Professor`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Professor` (`matricula_prof`, `CFE`, `Nome`, `Sobrenome`, `codigo_departamento`) VALUES (1234, '11111', 'Jefferson', 'Costa', 'CCT');
INSERT INTO `mydb`.`Professor` (`matricula_prof`, `CFE`, `Nome`, `Sobrenome`, `codigo_departamento`) VALUES (1244, '22222', 'Ariana', 'Grande', 'CCT');
INSERT INTO `mydb`.`Professor` (`matricula_prof`, `CFE`, `Nome`, `Sobrenome`, `codigo_departamento`) VALUES (1444, '33333', 'James', 'Hetfield', 'CCT');
INSERT INTO `mydb`.`Professor` (`matricula_prof`, `CFE`, `Nome`, `Sobrenome`, `codigo_departamento`) VALUES (1555, '44444', 'Ariano', 'Suassunga', 'CCH');
INSERT INTO `mydb`.`Professor` (`matricula_prof`, `CFE`, `Nome`, `Sobrenome`, `codigo_departamento`) VALUES (1235, '55555', 'Edgar', 'Poe', 'CCH');
INSERT INTO `mydb`.`Professor` (`matricula_prof`, `CFE`, `Nome`, `Sobrenome`, `codigo_departamento`) VALUES (1255, '66666', 'Alceu', 'Valença', 'CCH');

COMMIT;


-- -----------------------------------------------------
-- Data for table `mydb`.`Disciplina`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Disciplina` (`codigo`, `num_total_horas`, `codigo_departamento`, `carga_horaria`, `credito`, `nome_disciplina`, `num_matricula`) VALUES ('INF0102', 120, 'CCT', 60, 60, 'Prática de Programação', 1234);
INSERT INTO `mydb`.`Disciplina` (`codigo`, `num_total_horas`, `codigo_departamento`, `carga_horaria`, `credito`, `nome_disciplina`, `num_matricula`) VALUES ('INF0103', 100, 'CCT', 50, 50, 'Introdução à Programação', 1244);
INSERT INTO `mydb`.`Disciplina` (`codigo`, `num_total_horas`, `codigo_departamento`, `carga_horaria`, `credito`, `nome_disciplina`, `num_matricula`) VALUES ('INF0104', 120, 'CCT', 60, 60, 'Estrutura de Dados 1', 1444);
INSERT INTO `mydb`.`Disciplina` (`codigo`, `num_total_horas`, `codigo_departamento`, `carga_horaria`, `credito`, `nome_disciplina`, `num_matricula`) VALUES ('MED0203', 140, 'CCH', 70, 70, 'Anatomia 1', 1555);
INSERT INTO `mydb`.`Disciplina` (`codigo`, `num_total_horas`, `codigo_departamento`, `carga_horaria`, `credito`, `nome_disciplina`, `num_matricula`) VALUES ('MED0201', 120, 'CCH', 60, 60, 'Microbiologia 1', 1235);
INSERT INTO `mydb`.`Disciplina` (`codigo`, `num_total_horas`, `codigo_departamento`, `carga_horaria`, `credito`, `nome_disciplina`, `num_matricula`) VALUES ('MED0202', 120, 'CCH', 60, 60, 'Microbiologia 2', 1255);
INSERT INTO `mydb`.`Disciplina` (`codigo`, `num_total_horas`, `codigo_departamento`, `carga_horaria`, `credito`, `nome_disciplina`, `num_matricula`) VALUES ('CIV0301', 120, 'CCT', 60, 60, 'Cálculo 1', 1234);
INSERT INTO `mydb`.`Disciplina` (`codigo`, `num_total_horas`, `codigo_departamento`, `carga_horaria`, `credito`, `nome_disciplina`, `num_matricula`) VALUES ('CIV0304', 120, 'CCT', 60, 60, 'Cálculo 2', 1234);
INSERT INTO `mydb`.`Disciplina` (`codigo`, `num_total_horas`, `codigo_departamento`, `carga_horaria`, `credito`, `nome_disciplina`, `num_matricula`) VALUES ('INF0105', 120, 'CCT', 60, 60, 'Criptografia', 1444);
INSERT INTO `mydb`.`Disciplina` (`codigo`, `num_total_horas`, `codigo_departamento`, `carga_horaria`, `credito`, `nome_disciplina`, `num_matricula`) VALUES ('MED0204', 100, 'CCH', 50, 50, 'Ecografia', 1235);

COMMIT;


-- -----------------------------------------------------
-- Data for table `mydb`.`Historico`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Historico` (`num_matricula`, `codigo_disciplina`, `nota_final`, `data_cursada`) VALUES (12345678, 'INF0102', 8.2, '24/11/2017');
INSERT INTO `mydb`.`Historico` (`num_matricula`, `codigo_disciplina`, `nota_final`, `data_cursada`) VALUES (12345678, 'INF0103', 6.8, '26/11/2016');
INSERT INTO `mydb`.`Historico` (`num_matricula`, `codigo_disciplina`, `nota_final`, `data_cursada`) VALUES (12345688, 'INF0102', 9.0, '');
INSERT INTO `mydb`.`Historico` (`num_matricula`, `codigo_disciplina`, `nota_final`, `data_cursada`) VALUES (12345688, 'INF0103', 7.0, '05/12/2016');
INSERT INTO `mydb`.`Historico` (`num_matricula`, `codigo_disciplina`, `nota_final`, `data_cursada`) VALUES (12345888, 'INF0103', 7.5, '05/12/2016');
INSERT INTO `mydb`.`Historico` (`num_matricula`, `codigo_disciplina`, `nota_final`, `data_cursada`) VALUES (12388888, 'CIV0301', 7.2, '29/11/2016');
INSERT INTO `mydb`.`Historico` (`num_matricula`, `codigo_disciplina`, `nota_final`, `data_cursada`) VALUES (12348888, 'MED0203', 9.2, '06/12/2017');

COMMIT;

-- -----------------------------------------------------
-- Data for table `mydb`.`Composto_Obrigatoria`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Composto_Obrigatoria` (`codigo_disciplina`, `codigo_curso`) VALUES ('INF0102', 'C3');
INSERT INTO `mydb`.`Composto_Obrigatoria` (`codigo_disciplina`, `codigo_curso`) VALUES ('INF0103', 'C3');
INSERT INTO `mydb`.`Composto_Obrigatoria` (`codigo_disciplina`, `codigo_curso`) VALUES ('INF0104', 'C3');
INSERT INTO `mydb`.`Composto_Obrigatoria` (`codigo_disciplina`, `codigo_curso`) VALUES ('MED0203', 'M1');
INSERT INTO `mydb`.`Composto_Obrigatoria` (`codigo_disciplina`, `codigo_curso`) VALUES ('MED0201', 'M1');
INSERT INTO `mydb`.`Composto_Obrigatoria` (`codigo_disciplina`, `codigo_curso`) VALUES ('MED0202', 'M1');
INSERT INTO `mydb`.`Composto_Obrigatoria` (`codigo_disciplina`, `codigo_curso`) VALUES ('CIV0301', 'E3');
INSERT INTO `mydb`.`Composto_Obrigatoria` (`codigo_disciplina`, `codigo_curso`) VALUES ('CIV0304', 'E3');

COMMIT;

-- -----------------------------------------------------
-- Data for table `mydb`.`Optativa`
-- -----------------------------------------------------
START TRANSACTION;
USE `mydb`;
INSERT INTO `mydb`.`Optativa` (`codigo_disciplina`, `codigo_curso`) VALUES ('INF0105', 'C3');
INSERT INTO `mydb`.`Optativa` (`codigo_disciplina`, `codigo_curso`) VALUES ('MED0204', 'M1');

COMMIT;

